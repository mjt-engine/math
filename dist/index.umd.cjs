(function(t,q){typeof exports=="object"&&typeof module<"u"?q(exports):typeof define=="function"&&define.amd?define(["exports"],q):(t=typeof globalThis<"u"?globalThis:t||self,q(t.Module={}))})(this,function(t){"use strict";const q=(n,r)=>{if(n===void 0)throw new Error("add: a is undefined");if(r===void 0)throw new Error("add: b is undefined");return n+r};function Sr(n){return n!=null&&!Number.isNaN(n)}function B(n){return Sr(n)&&typeof n=="object"}function F(n){return B(n)&&typeof n.x=="number"}function e(n){return typeof n=="number"?n:F(n)?n.x:n[0]}function x(n,r){return r===void 0?n:n===void 0?r:e(n)+e(r)}function p(n,r){return r===void 0?n:n===void 0?r:[e(n)+e(r)]}const Qn=n=>Array.isArray(n)||ArrayBuffer.isView(n);function jr(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}const Mr=n=>n==null||Number.isNaN(n),qr=n=>!Mr(n),Ar={lengthOf:n=>Array.isArray(n)||jr(n)?n.length:qr(n)?1:0},{lengthOf:I}=Ar;function nn(n){return I(n)>1}function Z(n){return B(n)&&typeof n.x=="number"&&typeof n.y=="number"}function l(n){return Z(n)||nn(n)}function u(n){if(l(n))return Z(n)?n.y:n[1];throw new Error("yOf: point is not Point2")}function rn(n,r){return r===void 0?n:n===void 0?r:[e(n)+e(r),u(n)+u(r)]}function tn(n){return I(n)>2}function U(n){return B(n)&&typeof n.x=="number"&&typeof n.y=="number"&&typeof n.z=="number"}function s(n){return U(n)||tn(n)}function o(n){if(s(n))return U(n)?n.z:n[2];throw new Error("zOf: point is not Point3")}function en(n,r){return r===void 0?n:n===void 0?r:[e(n)+e(r),u(n)+u(r),o(n)+o(r)]}function un(n){return I(n)>3}function W(n){return B(n)&&typeof n.x=="number"&&typeof n.y=="number"&&typeof n.z=="number"&&typeof n.w=="number"}function w(n){return W(n)||un(n)}function y(n){if(w(n))return W(n)?n.w:n[3];throw new Error("wOf: point is not Point4")}function on(n,r){return r===void 0?n:n===void 0?r:[e(n)+e(r),u(n)+u(r),o(n)+o(r),y(n)+y(r)]}function v(n){return typeof n=="number"}function fn(n){return I(n)>0}function d(n){return F(n)||fn(n)}function Rn(n,r){if(w(n)&&w(r))return on(n,r);if(s(n)&&s(r))return en(n,r);if(l(n)&&l(r))return rn(n,r);if(d(n)&&d(r))return p(n,r);if(v(n)&&v(r))return x(n,r);throw new Error("addPoint: unsupported point types")}const cn=n=>n[0];function z(n,r,i){const f=n*(1-i),c=r*i;return f+c}function k(n,r,i){return z(e(n),e(r),e(i))}function dn(n,r,i){return[e(k(n,r,i))]}function E(n){return[e(n),u(n)]}function ln(n,r,i){const[f,c]=E(n),[h,g]=E(r),[V,M]=E(i);return[z(f,h,V),z(c,g,M)]}function P(n){return[e(n),u(n),o(n)]}function sn(n,r,i){const[f,c,h]=P(n),[g,V,M]=P(r),[X,Y,Ln]=P(i);return[z(f,g,X),z(c,V,Y),z(h,M,Ln)]}function S(n){return[e(n),u(n),o(n),y(n)]}function _n(n,r,i){const[f,c,h,g]=S(n),[V,M,X,Y]=S(r),[Ln,Br,Fr,Ir]=S(i);return[z(f,V,Ln),z(c,M,Br),z(h,X,Fr),z(g,Y,Ir)]}function an(n,r,i){if(s(n)&&s(r)&&s(i))return sn(n,r,i);if(l(n)&&l(r)&&l(i))return ln(n,r,i);if(d(n)&&d(r)&&d(i))return dn(n,r,i);if(v(n)&&d(r)&&v(i))return k(n,r,i);throw new Error("blendPoint: unsupported point types")}const vn=n=>n[1];function bn(n,r,i){return n<=r?r:n>=i?i:n}const xn=n=>n[2];function wn(n){return Qn(n)}function yn(n){return[e(n)]}function hn(n){return[e(n)]}function Pn(n){if(wn(n))return n;if(w(n))return S(n);if(s(n))return P(n);if(l(n))return E(n);if(d(n))return yn(n);if(v(n))return hn(n);throw new Error("toVec: point must be of type Point")}const j=(n,r)=>Pn(n).find(f=>f===r)!==void 0;function pn(n){return Math.abs(n)}function mn(n,r){return r===void 0?n:n===void 0?r:n-r}function nr(n,r){return pn(mn(n,r))}function A(n){return Math.abs(e(n))}function C(n,r){return r===void 0?n:n===void 0?r:e(n)-e(r)}function On(n,r){return A(C(n,r))}function N(n){return Math.abs(e(n))}function G(n,r){return r===void 0?n:n===void 0?r:[e(n)-e(r)]}function zn(n,r){return N(G(n,r))}function Nr(n){const[r,i]=E(n);return r*r+i*i}function T(n){return Math.sqrt(Nr(n))}function H(n,r){return r===void 0?n:n===void 0?r:[e(n)-e(r),u(n)-u(r)]}function gn(n,r){return T(H(n,r))}function Tr(n){const[r,i,f]=P(n);return r*r+i*i+f*f}function $(n){return Math.sqrt(Tr(n))}function K(n,r){return r===void 0?n:n===void 0?r:[e(n)-e(r),u(n)-u(r),o(n)-o(r)]}function En(n,r){return $(K(n,r))}function $r(n){const[r,i,f,c]=S(n);return r*r+i*i+f*f+c*c}function D(n){return Math.sqrt($r(n))}function L(n,r){return r===void 0?n:n===void 0?r:[e(n)-e(r),u(n)-u(r),o(n)-o(r),y(n)-y(r)]}function Vn(n,r){return D(L(n,r))}function J(n,r){if(w(n)&&w(r))return Vn(n,r);if(s(n)&&s(r))return En(n,r);if(l(n)&&l(r))return gn(n,r);if(d(n)&&d(r))return zn(n,r);if(v(n)&&v(r))return On(n,r);throw new Error("distancePoint: unsupported point types")}function rr(n){return J(cn(n),vn(n))}function tr(n,r){if(r===void 0||r===0)throw new Error("divide: b is undefined or zero");if(n===void 0)throw new Error("divide: a is undefined");return n/r}function Q(n,r){if(r===void 0||j(r,0))throw new Error("divide0: cannot divide by zero");if(n===void 0)throw new Error("divide0: numerator is undefined");return e(n)/e(r)}function R(n,r){if(r===void 0||j(r,0))throw new Error("divide1: cannot divide by zero");if(n===void 0)throw new Error("divide1: numerator is undefined");return[e(n)/e(r)]}function _(n,r){if(r===void 0||j(r,0))throw new Error("divide2: cannot divide by zero");if(n===void 0)throw new Error("divide2: numerator is undefined");return[e(n)/e(r),u(n)/u(r)]}function a(n,r){if(r===void 0||j(r,0))throw new Error("divide3: cannot divide by zero");if(n===void 0)throw new Error("divide3: numerator is undefined");return[e(n)/e(r),u(n)/u(r),o(n)/o(r)]}function b(n,r){if(r===void 0||j(r,0))throw new Error("divide4: cannot divide by zero");if(n===void 0)throw new Error("divide4: numerator is undefined");return[e(n)/e(r),u(n)/u(r),o(n)/o(r),y(n)/y(r)]}const ir=(n,r)=>{if(w(n)&&w(r))return b(n,r);if(s(n)&&s(r))return a(n,r);if(l(n)&&l(r))return _(n,r);if(d(n)&&d(r))return R(n,r);if(v(n)&&v(r))return Q(n,r);throw new Error("dividePoint: points must be of the same type")},er=n=>n[3],ur=n=>n[3];function or(n){return v(n)||d(n)}function fr(n){return Qn(n)}function cr(n){return JSON.parse(n)}function dr(n){if(w(n))return D(n);if(s(n))return $(n);if(l(n))return T(n);if(d(n))return N(n);if(v(n))return A(n);throw new Error("lengthPoint: point must be of type Point0...Point4")}function m(n,r,i){return i=i<0?0:i,i=i>1?1:i,n+(r-n)*i}const Sn=(n,r,i)=>m(e(n),e(r),i),jn=(n,r,i)=>[m(e(n),e(r),i)],Mn=(n,r,i)=>[m(e(n),e(r),i),m(u(n),u(r),i)],qn=(n,r,i)=>[m(e(n),e(r),i),m(u(n),u(r),i),m(o(n),o(r),i)],An=(n,r,i)=>[m(e(n),e(r),i),m(u(n),u(r),i),m(o(n),o(r),i),m(y(n),y(r),i)],lr=(n,r,i)=>{if(w(n)&&w(r))return An(n,r,i);if(s(n)&&s(r))return qn(n,r,i);if(l(n)&&l(r))return Mn(n,r,i);if(d(n)&&d(r))return jn(n,r,i);if(v(n)&&v(r))return Sn(n,r,i)};function sr(n,r){const[i,f,c]=P(n),[h,g,V]=P(r),M=(i+h)/2,X=(f+g)/2,Y=(c+V)/2;return[M,X,Y]}function vr(n,r){return n*r}function Nn(n,r){return r===void 0?n:n===void 0?r:e(n)*e(r)}function Tn(n,r){return r===void 0?n:n===void 0?r:[e(n)*e(r)]}function $n(n,r){return r===void 0?n:n===void 0?r:[e(n)*e(r),u(n)*u(r)]}function Dn(n,r){return r===void 0?n:n===void 0?r:[e(n)*e(r),u(n)*u(r),o(n)*o(r)]}function wr(n,r){return r===void 0?n:n===void 0?r:[e(n)*e(r),u(n)*u(r),o(n)*o(r),y(n)*y(r)]}function yr(n,r){if(s(n)&&s(r))return Dn(n,r);if(l(n)&&l(r))return $n(n,r);if(d(n)&&d(r))return Tn(n,r);if(v(n)&&v(r))return Nn(n,r);throw new Error("multiplyPoint: points must be of the same type")}function Jn(n){const r=A(n);return r===1?n:Q(n,r)}function Xn(n){const r=N(n);return r===1?n:R(n,[r])}function Yn(n){const r=T(n);return r===1?n:_(n,[r,r])}function Bn(n){const r=$(n);return r===1?n:a(n,[r,r,r])}function Fn(n){const r=D(n);return r===1?n:b(n,[r,r,r,r])}const hr=n=>{if(w(n))return Fn(n);if(s(n))return Bn(n);if(l(n))return Yn(n);if(d(n))return Xn(n);if(v(n))return Jn(n)};function Pr(n){if(n===void 0)return;const[r,i,f]=P(n),c=Intl.NumberFormat({notation:"compact"});return`[${c.format(r)},${c.format(i)},${c.format(f)}]`}const Dr=({v:n,q:r,s:i=0})=>Number((n*r/r).toFixed(i)),O=n=>r=>r*n,In=n=>{const r=O(e(n));return i=>r(e(i))},Zn=n=>{const r=O(e(n));return i=>[r(e(i))]},Un=n=>{const r=O(e(n)),i=O(u(n));return f=>[r(e(f)),i(u(f))]},Wn=n=>{const r=O(e(n)),i=O(u(n)),f=O(o(n));return c=>[r(e(c)),i(u(c)),f(o(c))]},kn=n=>{const r=O(e(n)),i=O(u(n)),f=O(o(n)),c=O(y(n));return h=>[r(e(h)),i(u(h)),f(o(h)),c(y(h))]},mr=n=>{if(w(n))return kn(n);if(s(n))return Wn(n);if(l(n))return Un(n);if(d(n))return Zn(n);if(v(n))return In(n)};function Or(n,r){if(w(n)&&w(r))return L(n,r);if(s(n)&&s(r))return K(n,r);if(l(n)&&l(r))return H(n,r);if(d(n)&&d(r))return G(n,r);if(v(n)&&v(r))return C(n,r);throw new Error("subtractPoint: points must be of the same type")}const zr=n=>r=>n+r,Cn=n=>r=>e(n)+e(r),Gn=n=>r=>[e(n)+e(r)],Hn=n=>r=>[e(n)+e(r),u(n)+u(r)],Kn=n=>r=>[e(n)+e(r),u(n)+u(r),o(n)+o(r)],gr=n=>r=>[e(n)+e(r),u(n)+u(r),o(n)+o(r),y(n)+y(r)],Er=n=>r=>{if(s(n)&&s(r))return Kn(n)(r);if(l(n)&&l(r))return Hn(n)(r);if(d(n)&&d(r))return Gn(n)(r);if(v(n)&&v(r))return Cn(n)(r);throw new Error("translaterPoint: point is not Point0...Point3")};function Jr(n,r){const[i,f]=E(n),[c,h]=E(r),g=(i+c)/2,V=(f+h)/2;return[g,V]}const Xr=n=>{const{scale:r=[1,1,1],rotation:i=[0,0,0],position:f=[0,0,0]}=n,c=P(r),h=P(i),g=P(f);return{scale:c,position:g,rotation:h}},Vr=(n,r)=>n.some(i=>J(r,i)===0),Yr={toTransform3:Xr,add:q,add0:x,add1:p,add2:rn,add3:en,add4:on,addPoint:Rn,blend:z,blend0:k,blend1:dn,blend2:ln,blend3:sn,blend4:_n,blendPoint:an,clamp:bn,contains:j,distance:nr,distance0:On,distance1:zn,distance2:gn,distance3:En,distance4:Vn,distancePoint:J,divide:tr,divide0:Q,divide1:R,divide2:_,divide3:a,divide4:b,dividePoint:ir,isPoint:or,isPoint0:v,isPoint1:d,isPoint2:l,isPoint3:s,isPoint4:w,isPointObject1:F,isPointObject2:Z,isPointObject3:U,isPointObject4:W,isVec:wn,isVec0:fr,isVec1:fn,isVec2:nn,isVec3:tn,isVec4:un,jsonToPoint3:cr,length:pn,length0:A,length1:N,length2:T,length3:$,length4:D,lengthPoint:dr,lerp:m,lerp0:Sn,lerp1:jn,lerp2:Mn,lerp3:qn,lerp4:An,lerpPoint:lr,midPoint2:Jr,midPoint3:sr,multiply:vr,multiply0:Nn,multiply1:Tn,multiply2:$n,multiply3:Dn,multiply4:wr,multiplyPoint:yr,normalize0:Jn,normalize1:Xn,normalize2:Yn,normalize3:Bn,normalize4:Fn,normalizePoint:hr,point3ToJson:Pr,scaler:O,scaler0:In,scaler1:Zn,scaler2:Un,scaler3:Wn,scaler4:kn,scalerPoint:mr,subtract:mn,subtract0:C,subtract1:G,subtract2:H,subtract3:K,subtract4:L,subtractPoint:Or,toVec:Pn,toVec0:hn,toVec1:yn,toVec2:E,toVec3:P,toVec4:S,translater:zr,translater0:Cn,translater1:Gn,translater2:Hn,translater3:Kn,translater4:gr,translaterPoint:Er,wOf:y,xOf:e,yOf:u,zOf:o,aOf:cn,bOf:vn,cOf:xn,dOf:er,eOf:ur,distancePoints2:rr,includesPoint:Vr,removeDuplicatePoints:n=>{const r=[];return n.forEach(i=>{Vr(r,i)||r.push(i)}),r},isEqual:(n,r)=>J(n,r)===0};t.Maths=Yr,t.aOf=cn,t.add=q,t.add0=x,t.add1=p,t.add2=rn,t.add3=en,t.add4=on,t.addPoint=Rn,t.bOf=vn,t.blend=z,t.blend0=k,t.blend1=dn,t.blend2=ln,t.blend3=sn,t.blend4=_n,t.blendPoint=an,t.cOf=xn,t.clamp=bn,t.contains=j,t.dOf=er,t.distance=nr,t.distance0=On,t.distance1=zn,t.distance2=gn,t.distance3=En,t.distance4=Vn,t.distancePoint=J,t.distancePoints2=rr,t.divide=tr,t.divide0=Q,t.divide1=R,t.divide2=_,t.divide3=a,t.divide4=b,t.dividePoint=ir,t.eOf=ur,t.isPoint=or,t.isPoint0=v,t.isPoint1=d,t.isPoint2=l,t.isPoint3=s,t.isPoint4=w,t.isPointObject1=F,t.isPointObject2=Z,t.isPointObject3=U,t.isPointObject4=W,t.isVec=wn,t.isVec0=fr,t.isVec1=fn,t.isVec2=nn,t.isVec3=tn,t.isVec4=un,t.jsonToPoint3=cr,t.length0=A,t.length1=N,t.length2=T,t.length3=$,t.length4=D,t.lengthPoint=dr,t.lerp=m,t.lerp0=Sn,t.lerp1=jn,t.lerp2=Mn,t.lerp3=qn,t.lerp4=An,t.lerpPoint=lr,t.midPoint3=sr,t.multiply=vr,t.multiply0=Nn,t.multiply1=Tn,t.multiply2=$n,t.multiply3=Dn,t.multiply4=wr,t.multiplyPoint=yr,t.normalize0=Jn,t.normalize1=Xn,t.normalize2=Yn,t.normalize3=Bn,t.normalize4=Fn,t.normalizePoint=hr,t.point3ToJson=Pr,t.quant=Dr,t.scaler=O,t.scaler0=In,t.scaler1=Zn,t.scaler2=Un,t.scaler3=Wn,t.scaler4=kn,t.scalerPoint=mr,t.subtract=mn,t.subtract0=C,t.subtract1=G,t.subtract2=H,t.subtract3=K,t.subtract4=L,t.subtractPoint=Or,t.toVec=Pn,t.toVec0=hn,t.toVec1=yn,t.toVec2=E,t.toVec3=P,t.toVec4=S,t.translater=zr,t.translater0=Cn,t.translater1=Gn,t.translater2=Hn,t.translater3=Kn,t.translater4=gr,t.translaterPoint=Er,t.wOf=y,t.xOf=e,t.yOf=u,t.zOf=o,Object.defineProperty(t,Symbol.toStringTag,{value:"Module"})});
//# sourceMappingURL=index.umd.cjs.map
